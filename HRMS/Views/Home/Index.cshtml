@{
    ViewData["Title"] = "Dashboard";
    var userRoles = ViewBag.UserRoles as List<string> ?? new List<string>();
    var isSystemAdmin = ViewBag.IsSystemAdmin as bool? ?? false;
    var isHRAdmin = ViewBag.IsHRAdmin as bool? ?? false;
    var isLineManager = ViewBag.IsLineManager as bool? ?? false;
    var currentEmployee = ViewBag.CurrentEmployee as HRMS.Models.Employee;
}

<div style="margin-bottom: 2rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <div>
            <h1 style="font-size: 2rem; margin-bottom: 0.5rem;">Welcome, @(currentEmployee?.full_name ?? User.Identity?.Name ?? "User")!</h1>
            <p class="text-muted">HRMS Enterprise Dashboard</p>
        </div>
        @if (currentEmployee != null)
        {
            <a asp-controller="Employee" asp-action="Details" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary">
                View My Profile
            </a>
        }
    </div>

    @if (userRoles.Any())
    {
        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
            @foreach (var role in userRoles)
            {
                <span style="background: var(--color-primary-light); color: white; padding: 0.4rem 0.8rem; border-radius: var(--radius-sm); font-size: 0.85rem; font-weight: 500;">
                    @role
                </span>
            }
        </div>
    }
</div>

@if (isSystemAdmin)
{
    <!-- System Admin Dashboard -->
    <div style="margin-bottom: 2rem;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem; color: var(--color-primary);">System Administrator Dashboard</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Employee Management -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Employee Management</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Employee" asp-action="Index" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        View All Employees (All Departments)
                    </a>
                    @if (currentEmployee != null)
                    {
                        <a asp-controller="Employee" asp-action="Details" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            My Profile
                        </a>
                    }
                </div>
            </div>

            <!-- Account Management -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="8.5" cy="7" r="4"></circle>
                            <line x1="20" y1="8" x2="20" y2="14"></line>
                            <line x1="23" y1="11" x2="17" y2="11"></line>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Account Management</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Account" asp-action="CreateEmployeeAccount" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        Create Account for New Employee
                    </a>
                    <small style="color: var(--color-text-secondary); font-size: 0.85rem; margin-top: 0.5rem; display: block;">
                        Create accounts for new employees with email, password, role, and profile information.
                    </small>
                </div>
            </div>
        </div>
    </div>
}

@if (isHRAdmin)
{
    <!-- HR Admin Dashboard -->
    <div style="margin-bottom: 2rem;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem; color: var(--color-primary);">HR Administrator Dashboard</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Employee Profile Management -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Employee Profile Management</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Employee" asp-action="Index" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start; font-weight: 600;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        View All Employee Profiles
                    </a>
                    <a asp-controller="Employee" asp-action="ProfileCompleteness" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                        </svg>
                        Manage Profile Completeness
                    </a>
                    @if (currentEmployee != null)
                    {
                        <a asp-controller="Employee" asp-action="Details" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            My Profile
                        </a>
                        <a asp-controller="Employee" asp-action="Edit" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            Edit My Profile (Full Access)
                        </a>
                    }
                </div>
            </div>

            <!-- Contract Management -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Contract Management</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Contract" asp-action="Create" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Create Employment Contract
                    </a>
                    <a asp-controller="Contract" asp-action="Index" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        View All Contracts
                    </a>
                    <a asp-controller="Contract" asp-action="ExpiringSoon" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        Contracts Expiring Soon
                    </a>
                </div>
            </div>

        </div>
    </div>
}

@if (isLineManager)
{
    <!-- Line Manager Dashboard -->
    <div style="margin-bottom: 2rem;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem; color: var(--color-primary);">Line Manager Dashboard</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Team Management -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Team Management</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Employee" asp-action="MyTeam" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        View My Team Details
                    </a>
                    @if (currentEmployee != null)
                    {
                        <a asp-controller="Employee" asp-action="Details" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            My Profile
                        </a>
                    }
                </div>
            </div>

            <!-- Employee Profiles -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">View All Employee Profiles</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Employee" asp-action="Index" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start; font-weight: 600;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        View All Employee Profiles
                    </a>
                    <p style="color: var(--color-text-secondary); font-size: 0.85rem; margin: 0;">
                        As a Line Manager, you can view full employee profiles of all employees in the organization, not just your team members.
                    </p>
                </div>
            </div>

            <!-- Assign Employees -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="8.5" cy="7" r="4"></circle>
                            <line x1="20" y1="8" x2="20" y2="14"></line>
                            <line x1="23" y1="11" x2="17" y2="11"></line>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">Team Assignment</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Employee" asp-action="AssignToTeam" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="8.5" cy="7" r="4"></circle>
                            <line x1="20" y1="8" x2="20" y2="14"></line>
                            <line x1="23" y1="11" x2="17" y2="11"></line>
                        </svg>
                        Assign Employee to My Team
                    </a>
                    <p style="color: var(--color-text-secondary); font-size: 0.85rem; margin: 0;">
                        Add employees to your team by assigning them as direct reports.
                    </p>
                </div>
            </div>

        </div>
    </div>
}

@if (!isSystemAdmin && !isHRAdmin && !isLineManager)
{
    <!-- Regular Employee Dashboard -->
    <div style="margin-bottom: 2rem;">
        <h2 style="font-size: 1.5rem; margin-bottom: 1rem; color: var(--color-primary);">Employee Dashboard</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- My Profile -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">My Profile</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    @if (currentEmployee != null)
                    {
                        <a asp-controller="Employee" asp-action="Details" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            View My Profile
                        </a>
                        <a asp-controller="Employee" asp-action="Edit" asp-route-id="@currentEmployee.employee_id" class="btn-premium btn-secondary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            Update Personal Details & Emergency Contacts
                        </a>
                    }
                </div>
            </div>

            <!-- My Team -->
            @if (currentEmployee != null && currentEmployee.manager_id.HasValue)
            {
                <div class="premium-card">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.1rem; margin: 0;">My Team</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <a asp-controller="Employee" asp-action="MyTeam" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            View My Team
                        </a>
                        <p style="color: var(--color-text-secondary); font-size: 0.85rem; margin: 0;">
                            View your team members who share the same manager.
                        </p>
                    </div>
                </div>
            }

            <!-- Contracts -->
            <div class="premium-card">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                    </div>
                    <h3 style="font-size: 1.1rem; margin: 0;">My Contracts</h3>
                </div>
                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                    <a asp-controller="Contract" asp-action="Index" class="btn-premium btn-primary" style="text-align: left; justify-content: flex-start;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        View My Contracts
                    </a>
                </div>
            </div>
        </div>
    </div>
}

<!-- User Information Card -->
@if (currentEmployee != null)
{
    <div class="premium-card">
        <h3 style="font-size: 1.1rem; margin-bottom: 1.5rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--color-border);">My Information</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
            <div>
                <div style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.25rem;">Email</div>
                <div style="font-weight: 500;">@currentEmployee.email</div>
            </div>
            @if (currentEmployee.phone != null)
            {
                <div>
                    <div style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.25rem;">Phone</div>
                    <div style="font-weight: 500;">@currentEmployee.phone</div>
                </div>
            }
            @if (currentEmployee.department != null)
            {
                <div>
                    <div style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.25rem;">Department</div>
                    <div style="font-weight: 500;">@currentEmployee.department.department_name</div>
                </div>
            }
            @if (currentEmployee.position != null)
            {
                <div>
                    <div style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.25rem;">Position</div>
                    <div style="font-weight: 500;">@currentEmployee.position.position_title</div>
                </div>
            }
            @if (currentEmployee.profile_completion.HasValue)
            {
                <div>
                    <div style="font-size: 0.85rem; color: var(--color-text-secondary); margin-bottom: 0.25rem;">Profile Completion</div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="flex: 1; height: 8px; background: var(--color-border); border-radius: var(--radius-sm); overflow: hidden;">
                            <div style="width: @currentEmployee.profile_completion%; height: 100%; background: var(--color-primary);"></div>
                        </div>
                        <span style="font-weight: 600; font-size: 0.9rem;">@currentEmployee.profile_completion%</span>
                    </div>
                </div>
            }
        </div>
</div>
}
